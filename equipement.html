<style>

  #card_overlay {
	position:relative;
	height: 6.35cm;
	width: 4.115cm;
  }

  #card_background {
	position:absolute;
	height: 6.35cm;
	width: 4.115cm;
  }
  
  #card_image {
	position: absolute;
	max-height: 80%;
	max-width: 80%;
  }
 
 .card_stats {
	position: absolute;
	font-family: EurostileLTStd;
	z-index: 999;
	top:5.8cm;
 }
 
 #output_range {
	right:3.2cm
 }

 #output_nb_dice {
	right:2.3cm
 }
 
  #output_val_dice {
	right:1.4cm
 }

  #output_power {
	right:0.5cm
 }
 
 @font-face {
	font-family: EurostileLTStd;
	src: url("fonts/EurostileLTStd-BoldCn.otf") format("opentype");
	font-size: 42px;
	color:#000000;
	text-align:right;
}

  
</style>

<input type="file" id="files" name="files[]" multiple />
<input id="input_range" type="text" onchange="update"/>
<input id="input_nb_dice" type="text" onchange="update"/>
<input id="input_val_dice" type="text" onchange="update"/>
<input id="input_power" type="text" onchange="update"/>
<br/><br/>
<div id="card_overlay">
	
	<div id="output_range" class="card_stats"></div>
	<div id="output_nb_dice" class="card_stats"></div>
	<div id="output_val_dice" class="card_stats"></div>
	<div id="output_power" class="card_stats"></div>
	
	<img src="blank_cards/0003.jpg" id="card_background"/>
	<img id="card_image" src=""/>
</div>
<br/>


<script>
  function handleFileSelect(evt) {
    var files = evt.target.files; // FileList object

    // Loop through the FileList and render image files as thumbnails.
    for (var i = 0, f; f = files[i]; i++) {

      // Only process image files.
      if (!f.type.match('image.*')) {
        continue;
      }

      var reader = new FileReader();

      // Closure to capture the file information.
      reader.onload = (function(theFile) {
        return function(e) {
          // Render thumbnail.
		  var card_image = document.getElementById("card_image");
          card_image.src=e.target.result;
		  
		  card_image.style.left=(card_overlay.offsetWidth-card_image.offsetWidth)/2;
		  
        };
      })(f);

	  
      // Read in the image file as a data URL.
      reader.readAsDataURL(f);
    }
	

  }
  
  function update(){
	document.getElementById("output_range").innerHTML=document.getElementById("input_range").value;
	document.getElementById("output_nb_dice").innerHTML=document.getElementById("input_nb_dice").value;
	document.getElementById("output_val_dice").innerHTML=document.getElementById("input_val_dice").value;
	document.getElementById("output_power").innerHTML=document.getElementById("input_power").value;
  }

  	window.onload = function(e){
		  var card_image = document.getElementById("card_image");
		  var card_overlay = document.getElementById("card_overlay");
	}
  
  document.getElementById('files').addEventListener('change', handleFileSelect, false);
  document.getElementById('input_range').addEventListener('change', update, false);
  document.getElementById('input_nb_dice').addEventListener('change', update, false);
  document.getElementById('input_val_dice').addEventListener('change', update, false);
  document.getElementById('input_power').addEventListener('change', update, false);
</script>